# Lockpicking and Remove Trap by Jaseowns
# UO Outlands
# You may edit the skill checks to match your max skill
# Requires: lockpick training box, lockpicks and trap removal tools
# Shelf loadout: needs to have iron lockpick tools and iron trap tools

@setvar! "TargetSkill" 120
    
if findtype "strong box" backpack
    if skill "Lockpicking" < 120
        overhead 'Lockpicking' 88
        if findtype "lockpicks" backpack
            dclicktype "lockpicks" backpack
            wft
            targettype "strong box" backpack
            wait 4000
        else
            overhead "No lock picks!" 34
            if findtype "storage shelf" ground -1 -1 2 as shelf
                overhead 'Restocking...' 88
                dclick shelf
                waitforgump 3232825965 2000
                gumpresponse 7
                waitforgump 3232825965 2000
                gumpclose 3232825965
            endif
            wait 500
        endif 
    endif
    
    if skill "Detecting Hidden" < 120
        overhead 'Remove trap' 88
        if findtype "drill" backpack
            dclicktype "drill" backpack
            wft
            targettype "strong box" backpack
            wait 4000
        else
            overhead "No trap tools!" 34
            if findtype "storage shelf" ground -1 -1 2 as shelf
                overhead 'Restocking...' 88
                dclick shelf
                waitforgump 3232825965 2000
                gumpresponse 7
                waitforgump 3232825965 2000
                gumpclose 3232825965
            endif
            wait 500
        endif 
    endif
    loop
else
    overhead "No training box" 34
endif